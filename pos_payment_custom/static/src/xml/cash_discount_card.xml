<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

    <t t-inherit="point_of_sale.PaymentScreen" t-inherit-mode="extension">
        <xpath expr="//div[contains(@class,'payment-summary')]" position="inside">

            <div t-attf-class="o_pos_cash_discount_card
                               {{ payAdjActive ? '' : 'o_pos_cash_discount_card--hidden' }}
                               {{ payAdjType === 'surcharge' ? 'o_pos_cash_discount_card--surcharge' : 'o_pos_cash_discount_card--discount' }}">

                <div class="o_pos_cash_discount_card__left">
                    <div class="o_pos_cash_discount_card__title">
                        <t t-esc="payAdjTitle"/>
                    </div>

                    <div class="o_pos_cash_discount_card__meta">
                        <t t-esc="payAdjMeta"/>
                    </div>

                    <t t-if="payAdjHasOptions">
                        <div class="o_pos_cash_discount_card__options">
                            <select class="o_pos_cash_discount_card__select"
                                    t-on-change="onPayAdjOptionChange">
                                <t t-foreach="payAdjOptions" t-as="opt" t-key="opt.id">
                                    <option t-att-value="opt.id"
                                            t-att-selected="opt.id === payAdjSelectedOptionId">
                                        <t t-esc="opt.name"/> (<t t-esc="opt.percent"/>%)
                                    </option>
                                </t>
                            </select>
                        </div>
                    </t>
                </div>

                <div class="o_pos_cash_discount_card__right">
                    <div class="o_pos_cash_discount_card__amount">
                        <t t-esc="payAdjAmountFormatted"/>
                    </div>
                    <div class="o_pos_cash_discount_card__pill">
                        <t t-esc="payAdjMethodName"/>
                    </div>
                </div>

            </div>

        </xpath>
    </t>

</templates>
